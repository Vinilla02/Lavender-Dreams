{
    "$schema": "https://smapi.io/schemas/content-patcher.json",
    "Format": "2.7.0",
    "ConfigSchema": {
        "CustomCursors": {
           "AllowValues": "true, false",
           "Default": "true"
        },
        "SeasonalPortraitDecor": {
            "AllowValues": "true, false",
            "Default": "true"
        },
        "FriendshipIndicator": {
            "AllowValues": "true, false",
            "Default": "true"
        },
        "ArtifactSpotToggle": {
            "AllowValues": "true, false",
            "Default": "true"
        },
        "ArtifactSpotColor": {
            "AllowValues": "Blue, Lavender, Pink, Red, White, Yellow, Random, Seasonal",
            "Default": "Lavender"
        }
     },

    "DynamicTokens": [
        {
            "Name": "ArtifactSpot",
            "Value": "{{ArtifactSpotColor}}",
            "When": {
                "ArtifactSpotColor |contains=Random, Seasonal": false
            }
        },
        {
            "Name": "ArtifactSpot",
            "Value": "{{Random: Blue, Lavender, Pink, Red, White, Yellow}}",
            "When": {
                "ArtifactSpotColor": "Random"
            }
        },
        {
            "Name": "ArtifactSpot",
            "Value": "Pink",
            "When": {
                "ArtifactSpotColor": "Seasonal",
                "Season": "spring"
            }
        },
        {
            "Name": "ArtifactSpot",
            "Value": "Lavender",
            "When": {
                "ArtifactSpotColor": "Seasonal",
                "Season": "summer"
            }
        },
        {
            "Name": "ArtifactSpot",
            "Value": "Yellow",
            "When": {
                "ArtifactSpotColor": "Seasonal",
                "Season": "fall"
            }
        },
        {
            "Name": "ArtifactSpot",
            "Value": "Blue",
            "When": {
                "ArtifactSpotColor": "Seasonal",
                "Season": "winter"
            }
        }
    ],

    "Changes": [
        //Minigames
        {
            "LogName":"TitleButtons",
            "Action": "EditImage",
            "Target": "Minigames/TitleButtons",
            "FromFile": "assets/{{Target}}_{{Language}}.png"
        },
        {
            "LogName":"Kiwi Cameo",
            "Action":"EditImage",
            "Target":"Minigames/TitleButtons",
            "FromFile": "assets/CustomAssets/Kiwi.png",
            "ToArea": { "X": 201, "Y": 464, "Width": 62, "Height": 16 },
            "When":{
                "HasMod":"Rafseazz.RSVCP"
            }
        },
        {
            "LogName":"Moon Cameo",
            "Action":"EditImage",
            "Target":"Minigames/TitleButtons",
            "FromFile": "assets/CustomAssets/Moon.png",
            "ToArea": { "X": 138, "Y": 464, "Width": 62, "Height": 16 },
            "When":{
                "HasMod":"skellady.SBVCP"
            }
        },
        
        //Cursors
        {
            "LogName": "Mouse cursors",
            "Action": "EditImage",
            "Target": "LooseSprites/Cursors",
            "FromFile": "assets/CustomAssets/{{TargetWithoutPath}}.png",
            "ToArea": { "X": 0, "Y": 0, "Width": 128, "Height": 32 },
            "When" : {
                "CustomCursors": "true"
            }
        },
        {
            "LogName": "Artifact spots",
            "Action": "EditImage",
            "Target": "LooseSprites/Cursors",
            "FromFile": "assets/CustomAssets/ArtifactSpot_{{ArtifactSpot}}.png",
            "ToArea": { "X": 368, "Y": 32, "Width": 64, "Height": 16 },
            "When": {
                "ArtifactSpotToggle": "true"
            }
        },
        {
            "LogName": "Cursors base",
            "Action": "EditImage",
            "Target": "LooseSprites/Cursors",
            "FromFile": "assets/{{Target}}_{{language}}.png",
            "PatchMode": "Overlay"
        },
        {
            "LogName": "Achievement icons",
            "Action": "EditImage",
            "Target": "LooseSprites/Cursors",
            "FromFile": "assets/CustomAssets/AchievementIcons.png",
            "ToArea": { "X": 192, "Y": 128, "Width": 256, "Height": 64}
        },
        {
            "LogName": "Greenery - regular",
            "Action": "EditImage",
            "Target": "LooseSprites/Cursors",
            "FromFile": "assets/CustomAssets/Greenery_{{season}}.png",
            "PatchMode": "Overlay",
            "ToArea": { "X": 583, "Y": 411, "Width": 115, "Height": 97 },
            "When": {
                "SeasonalPortraitDecor": "true",
                "LocationContext|contains= Desert, Island": false
            },
            "Update": "OnLocationChange"
        },
        {
            "LogName": "Greenery - desert",
            "Action": "EditImage",
            "Target": "LooseSprites/Cursors",
            "FromFile": "assets/CustomAssets/Greenery_desert.png",
            "PatchMode": "Overlay",
            "ToArea": { "X": 583, "Y": 411, "Width": 115, "Height": 97 },
            "When": {
                "SeasonalPortraitDecor": "true",
                "LocationContext": "Desert"
            },
            "Update": "OnLocationChange"
        },
        {
            "LogName": "Greenery - Ginger Island",
            "Action": "EditImage",
            "Target": "LooseSprites/Cursors",
            "FromFile": "assets/CustomAssets/Greenery_island.png",
            "PatchMode": "Overlay",
            "ToArea": { "X": 583, "Y": 411, "Width": 115, "Height": 97 },
            "When": {
                "SeasonalPortraitDecor": "true",
                "LocationContext": "Island"
            },
            "Update": "OnLocationChange"
        },



        //Loose Sprites
        {
            "LogName": "Replace LooseSprites",
            "Action": "EditImage",
            "Target": "LooseSprites/Billboard, LooseSprites/buildingPlacementTiles, LooseSprites/BundleSprites, LooseSprites/chatBox, LooseSprites/ControllerMaps, LooseSprites/daybg, LooseSprites/dialogboxgreen, LooseSprites/dye_bench, LooseSprites/EmoteMenu, LooseSprites/font_bold, LooseSprites/font_colored, LooseSprites/ForgeMenu, LooseSprites/JunimoNote, LooseSprites/LanguageButtons, LooseSprites/letterBG, LooseSprites/mute_voice_icon, LooseSprites/nightbg, LooseSprites/PlayerStatusList, LooseSprites/PrizeTicketMenu, LooseSprites/SpecialOrdersBoard, LooseSprites/tailoring, LooseSprites/textBox",
            "FromFile": "assets/{{Target}}.png"
        },
        {
            "LogName": "Language Overlays",
            "Action": "EditImage",
            "Target": "LooseSprites/Billboard, LooseSprites/ControllerMaps, LooseSprites/JunimoNote",
            "FromFile": "assets/{{Target}}_{{language}}.png",
        },
        {
            "LogName": "Overlays",
            "Action": "EditImage",
            "Target": "LooseSprites/emojis, LooseSprites/map, LooseSprites/Cursors2, LooseSprites/Cursors_1_6",
            "FromFile": "assets/{{Target}}.png",
            "PatchMode": "Overlay"
        },
        {
            "LogName": "Seasonal Map Overlays",
            "Action": "EditImage",
            "Target": "LooseSprites/map_fall, LooseSprites/map_summer, LooseSprites/map_winter, ",
            "FromFile": "assets/LooseSprites/map.png",
            "PatchMode": "Overlay"
        },
        {
            "LogName":"JunimoNote BB Compat",
            "Action": "EditImage",
            "Target": "LooseSprites/JunimoNote",
            "FromFile": "assets/{{Target}}_biggerbackpack.png",
            "PatchMode": "Overlay",
            "ToArea": { "X": 344, "Y": 28, "Width": 121, "Height": 127 },
            "When":{
                "HasMod":"spacechase0.BiggerBackpack"
            }
        },
        
        //Maps
        {
            "Action": "EditImage",
            "Target": "Maps/MenuTiles",
            "FromFile": "assets/{{Target}}.png",
            "PatchMode": "Overlay"
        },

        //TerrainFeatures
        {
            "Action": "EditImage",
            "Target": "TerrainFeatures/BuffsIcons",
            "FromFile": "assets/{{Target}}.png"
        },

        //TileSheets
        {
            "Action": "EditImage",
            "Target": "TileSheets/emotes, TileSheets/BuffsIcons",
            "FromFile": "assets/{{Target}}.png"
        },

        //Compat
		{
			"LogName": "Mobile UI",
			"Action": "EditImage",
			"Target": "LooseSprites/mobileatlas_manually_made, LooseSprites/junimo_background_blank, LooseSprites/junimonotemobile", 
			"FromFile": "assets/{{Target}}.png"
		},
        {
            "LogName": "Happy Home Designer Compat",
            "Action": "EditImage",
            "Target": "Mods/tlitookilakin.HappyHomeDesigner/UI",
            "FromFile": "assets/CompatibilityPatches/HappyHomeDesigner/{{TargetWithoutPath}}.png",
            "When": {
                "HasMod": "tlitookilakin.HappyHomeDesigner"
            }
        },
        {
            "LogName": "Event Lookup Compat",
            "Action": "EditImage",
            "Target": "Mods/shekurika.EventLookup/button, Mods/shekurika.EventLookup/statusCover",
            "FromFile": "assets/CompatibilityPatches/EventLookup/{{TargetWithoutPath}}.png",
            "When": {
                "HasMod": "shekurika.EventLookup"
            }
        },
        {
            "LogName": "Love of Cooking Compat",
            "Action": "EditImage",
            "Target": "Mods/blueberry.LoveOfCooking.Assets/Sprites, Mods/blueberry.LoveOfCooking.Assets/CookbookSprites",
            "FromFile": "assets/CompatibilityPatches/LoveOfCooking/{{TargetWithoutPath}}.png",
            "When": {
                "HasMod": "blueberry.LoveOfCooking"
            }
        },
        {
            "LogName": "Font Settings Compat",
            "Action": "EditImage",
            "Target": "Mods/Becks723.FontSettings/delete, Mods/Becks723.FontSettings/export, Mods/Becks723.FontSettings/font-button, Mods/Becks723.FontSettings/font-preview-compare, Mods/Becks723.FontSettings/font-preview-normal, Mods/Becks723.FontSettings/font-tab, Mods/Becks723.FontSettings/icon-for-toolbar-icons, Mods/Becks723.FontSettings/refresh, Mods/Becks723.FontSettings/save",
            "FromFile": "assets/CompatibilityPatches/FontSettings/{{TargetWithoutPath}}.png",
            "When": {
                "HasMod": "Becks723.FontSettings"
            }
        },
        {
            "LogName": "GMCM Compat",
            "Action": "EditImage",
            "Target": "Mods/GenericModConfigMenu/ConfigButton, Mods/GenericModConfigMenu/KeyboardButton",
            "FromFile": "assets/CompatibilityPatches/GenericModConfigMenu/{{TargetWithoutPath}}.png",
            "When": {
                "HasMod": "spacechase0.GenericModConfigMenu"
            }
        },
        {
            "LogName": "Unlockable Bundles Compat",
            "Action": "EditImage",
            "Target": "UnlockableBundles/UI/AlternativeJunimoNote, UnlockableBundles/UI/BundleBook, UnlockableBundles/UI/BundleDiscoveredAnimation, UnlockableBundles/UI/BundleOverviewBG, UnlockableBundles/UI/BundleOverviewIcon, UnlockableBundles/UI/MagicBookJunimoNote, UnlockableBundles/UI/MagicBookJunimoNote_Brown, UnlockableBundles/UI/MagicBookJunimoNote_Green, UnlockableBundles/UI/MagicBookJunimoNote_Red, UnlockableBundles/UI/MagicBookJunimoNote_Teal, UnlockableBundles/UI/MagicBookJunimoNote_Yellow",
            "FromFile": "assets/CompatibilityPatches/UnlockableBundles/{{TargetWithoutPath}}.png",
            "When": {
                "HasMod": "DLX.Bundles"
            }
        },
        {
            "LogName": "Smart Building Compat",
            "Action": "EditImage",
            "Target": "Mods/SmartBuilding/ToolButtons",
            "FromFile": "assets/CompatibilityPatches/SmartBuilding/{{TargetWithoutPath}}.png",
            "When": {
                "HasMod": "DecidedlyHuman.SmartBuilding"
            }
        }
    ]
}